var wrapper=document.getElementById("content"),header=document.querySelector(".header"),left=document.getElementById("left"),right=document.getElementById("right"),index=0;function init(){loadJSON(function(e){for(var t=JSON.parse(e),n=Object.keys(t.films).length,d=0;d<n;d++){var i=document.createElement("div");i.setAttribute("id","div"+d),i.setAttribute("class","film");var a=document.createElement("img");a.src=t.films[d].url,a.setAttribute("class","filmimage"),i.appendChild(a);var r=document.createTextNode(t.films[d].title),c=document.createTextNode("Run time: "+t.films[d].running_time),l=document.createTextNode(t.films[d].description),o=document.createElement("div"),s=document.createElement("div"),u=document.createElement("div");o.setAttribute("class","title"),s.setAttribute("class","rt"),u.setAttribute("class","desc"),o.appendChild(r),s.appendChild(c),u.appendChild(l),i.appendChild(o),i.appendChild(s),i.appendChild(u),wrapper.appendChild(i)}var p=t.introduction,f=document.createElement("h1"),h=document.createTextNode(p.page_title);f.appendChild(h);var v=document.createTextNode(p.page_description);f.setAttribute("class","title"),header.appendChild(f),header.appendChild(v),m})}function carousel(e){"left"===e?index++:index--,wrapper.style.marginLeft=330*index+"px"}function loadJSON(e){var t=new XMLHttpRequest;t.overrideMimeType("application/json"),t.open("GET","dist/json/data.json",!0),t.onreadystatechange=function(){4==t.readyState&&"200"==t.status&&e(t.responseText)},t.send(null)}document.addEventListener("DOMContentLoaded",function(){init()}),left.addEventListener("click",function(){index<0&&carousel("left")}),right.addEventListener("click",function(){-17<index&&carousel("right")});